<style>
  *,
	::after,
	::before {
		-webkit-box-sizing: border-box;
		box-sizing: border-box
	}
  .custom-button {
    outline: none;
    background: #6bf4a4;
    width: 100%;
    border: 0;
    border-radius: 4px;
    padding: 10px 20px;
    color: rgb(41, 41, 41);
    font-family: inherit;
    font-size: inherit;
    font-weight: bolder;
    line-height: inherit;
    text-transform: uppercase;
    cursor: pointer;
    margin: 10px 0;
  }

  .custom-button:hover {
    background-color: #35fe88;
  }

  hr {
    margin: 10px 0;
  }

  .modal {
    display: none;
    position: fixed;
    z-index: 1;
    padding-top: 100px;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0, 0, 0);
    background-color: rgba(0, 0, 0, 0.4);
  }

  /* Modal Content */
  .modal-content {
    background-color: #fefefe;
    margin: auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    margin-top: 50px;
  }

  /* The Close Button */
  .close {
    color: #aaaaaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
  }

  .close:hover,
  .close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
  }

  /* table */
  .rwd-table {
    margin: 1em 0;
    min-width: 300px;
  }

  .rwd-table tr {
    border-top: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
  }

  .rwd-table th {
    display: none;
  }

  .rwd-table td {
    display: block;
  }

  .rwd-table td:first-child {
    padding-top: 0.5em;
  }

  .rwd-table td:last-child {
    padding-bottom: 0.5em;
  }

  .rwd-table td:before {
    content: attr(data-th) ": ";
    font-weight: bold;
    width: 6.5em;
    display: inline-block;
  }

  @media (min-width: 480px) {
    .rwd-table td:before {
      display: none;
    }
  }

  .rwd-table th,
  .rwd-table td {
    text-align: left;
  }

  @media (min-width: 480px) {

    .rwd-table th,
    .rwd-table td {
      display: table-cell;
      padding: 0.25em 0.5em;
    }

    .rwd-table th:first-child,
    .rwd-table td:first-child {
      padding-left: 0;
    }

    .rwd-table th:last-child,
    .rwd-table td:last-child {
      padding-right: 0;
    }
  }

  h1 {
    font-weight: normal;
    letter-spacing: -1px;
    color: #34495e;
  }

  .rwd-table {
    background: #ffffff;
    color: rgb(52, 52, 52);
    border-radius: 0.4em;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
  }

  .rwd-table tr {
    border-color: #46637f;
  }

  .rwd-table th,
  .rwd-table td {
    margin: 0.5em 1em;
  }

  @media (min-width: 480px) {

    .rwd-table th,
    .rwd-table td {
      padding: 1em !important;
    }
  }

  .rwd-table th,
  .rwd-table td:before {
    color: #55ddb7;
  }

  .evo-calendar {
    -webkit-box-shadow: 0 10px 50px -20px #73c0c1;
    box-shadow: 0 10px 50px -20px #73c0c1;
  }

  .calendar-sidebar {
    background-color: #73c0c1;
    box-shadow: 5px 0 18px -3px #73c0c1;
    color: #fff;
  }

  .calendar-sidebar>.month-list>.calendar-months>li:hover {
    background-color: rgb(81, 189, 191)
  }

  .calendar-sidebar>.month-list>.calendar-months>li.active-month {
    background-color: #5eb597;
  }

  th[colspan="7"] {
    color: #73c0c1;
  }

  th[colspan="7"]::after {
    background-color: rgba(115, 192, 193, 0.15);
  }

  .calendar-sidebar>span#sidebarToggler {
    background-color: #73c0c1;
    -webkit-box-shadow: 5px 0 18px -3px #73c0c1;
    box-shadow: 5px 0 18px -3px #73c0c1;
  }

  .event-list>.event-empty {
    border: 1px solid #73c0c1;
  }

  .event-list>.event-empty>p {
    color: #73c0c1af;
    font-weight: bolder;
  }

  #eventListToggler {
    position: absolute;
    width: 40px;
    height: 40px;
    top: 0;
    right: 0;
    background-color: #73c0c1;
    padding: 10px;
    cursor: pointer;
    -webkit-box-shadow: 5px 0 18px -3px #73c0c1;
    box-shadow: 5px 0 18px -3px #73c0c1;
    z-index: 1;
  }
</style>

<md-toolbar md-scroll-shrink class="shadow">
  <div class="md-toolbar-tools">Informasi Jadwal Dokter</div>
</md-toolbar>

<div class="grid_12">
  <div class="grid_3">
    <div class="grid_12">
      <label c-label item="item" c-label-text="Dokter"></label>
      <div class="grid_12">
        <input kendo-combo-box k-ng-model="item.dokter" k-data-text-field="'namalengkap'" k-data-value-field="'id'"
          k-filter="'contains'" k-auto-bind="false" k-data-source="listdokter" />
      </div>
    </div>
  </div>
  <div class="grid_3">
    <div class="grid_12">
      <label c-label item="item" c-label-text="Ruangan"></label>
      <input style="width: 100%;" kendo-combo-box k-ng-model="item.ruangan" k-data-text-field="'namaruangan'"
        k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="false" k-data-source="ListRuangan" />
    </div>
  </div>
  <div class="grid_1">
    <div class="grid_12">
      <label c-label item="item" c-label-text="Bulan"></label>
      <div class="grid_12">
        <input kendo-date-picker k-options="monthSelectorOptions" k-ng-model="item.bulan" k-format="'MMMM yyyy'"
          style="width: 100%;" />
      </div>
    </div>
  </div>
  <div class="grid_1" style="margin-top: 23px;">
    <md-button class="md-raised md-primary medium-button" ng-click="searchData()">
      <span style="margin-right: 5px;">Cari</span>
      <i class="fa fa-search"></i>
    </md-button>

  </div>
</div>

<div class="--noshadow" id="calendar"></div>

<div id="modalDetail" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>

    <table class="rwd-table">
      <tr>
        <th>No. Rekam Medis</th>
        <th>Nama Pasien</th>
        <th>Jenis Kelamin</th>
        <th>Tanggal Lahir</th>
      </tr>
      <tbody id="dataDetail">

      </tbody>
    </table>
  </div>

</div>
<script>
  let modal = document.getElementById("modalDetail");
  let close = document.getElementsByClassName("close")[0];

  let getCookie = (name) => {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(';').shift();
  }

  let token = getCookie('authorization');

  function detailData(data, idRuangan, idDokter) {
    
    $.ajax({
      // https://smart.rsabhk.co.id:2222/pelayanan-service/get-detail-pasien-by-dokter?idDokter=16054&idRuangan=564&tglKunjungan=2021-04-29&jamPraktek=11:30-13:30&X-AUTH-TOKEN=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbi5vcGVyYXRvciJ9.2yCoQiRKSoXJhCzSdbLxvLWPPx02jzPgkUpT2f0uDLeKKPIK00xLbLlUeTlS7eNq6cLOE7XM03sOWgmQ5TLvVA
      url: "http://172.16.44.33:9111/pelayanan-service/get-detail-pasien-by-dokter?&idDokter=" + idDokter + "&idRuangan=" + idRuangan + "&tglKunjungan=" + data.tglDokter + "&jamPraktek=" + data.jamPraktik + "&X-AUTH-TOKEN=" + token,
      method: "GET",
      success: (data) => {
        console.log(data);
        modal.style.display = "block";
        $("table.rwd-table #dataDetail").html('');
        for (let i = 0; i < data.length; i++) {
          
          $("table.rwd-table #dataDetail").append(`
          <tr>
            <td data-th="No. Rekam Medis">${data[i].noCm}</td>
            <td data-th="Nama Pasien">${data[i].namaPasien}</td>
            <td data-th="Jenis Kelamin">${data[i].jenisKelamin}</td>
            <td data-th="Tanggal Lahir">${data[i].tglLahir}</td>
          </tr>
        `)
        }

      }
    })
  }

  close.onclick = function () {
    modal.style.display = "none";
  }
</script>