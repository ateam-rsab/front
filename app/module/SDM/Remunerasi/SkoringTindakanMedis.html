<style>
    md-checkbox.md-checked.green .md-icon {
        background-color: #38c4b2;
    }
</style>

<md-toolbar md-scroll-shrink class="shadow">
    <div class="md-toolbar-tools">Skoring Tindakan Medis</div>
</md-toolbar>

<div class="grid_12">
    <div class="grid_3">
        <label><strong>Departemen</strong></label>
        <input kendo-combo-box k-filter="'contains'" k-ng-model="item.srcDepartemen"
            k-data-text-field="'namaDepartemen'" k-data-value-field="'id'" k-data-source="listDepartemen"
            k-on-change="getDataRuangan(item.srcDepartemen.id)" />
    </div>
    <div class="grid_5">
        <label><strong>Ruangan</strong></label>
        <input kendo-combo-box k-filter="'contains'" k-ng-model="item.srcRuangan" k-data-text-field="'namaRuangan'"
            k-data-value-field="'id'" k-data-source="listRuangan" k-on-change="getProduk(item.srcRuangan.id)" />
    </div>
    <div class="grid_4">
        <label><strong>Tindakan</strong></label>
        <input kendo-combo-box k-filter="'contains'" k-ng-model="item.srcNamaProduk" k-data-text-field="'namaProduk'"
            k-data-value-field="'id'" k-data-source="listNamaProduk" />
    </div>
</div>
<div class="grid_12">
    <div class="grid_5">
        <label><strong>Rincian Tindakan</strong></label>
        <input c-text-box type="input" filter="" class="k-textbox" ng-model="item.srcDetailTindakan" />
    </div>
    <div class="grid_3">
        <label><strong>Kelompok Kerja</strong></label>
        <input kendo-combo-box k-filter="'contains'" k-ng-model="item.srcKelompokKerja" k-data-text-field="'name'"
            k-data-value-field="'id'" k-data-source="listKKMedis" />
    </div>
    <div class="grid_2">
        <label><strong>Status Verifikasi</strong></label>
        <input kendo-combo-box k-filter="'contains'" k-ng-model="item.srcStatusVerif" k-data-text-field="'statusVerif'"
            k-data-value-field="'id'" k-data-source="listStatusVerif" />
    </div>
    <div class="grid_1" style="margin-top: 1.6%;">
        <md-button class="md-raised md-primary medium-button" ng-click="getAllData()">
            <span style="margin-right: 5px;">Cari</span>
            <i class="fa fa-search"></i>
        </md-button>
    </div>
</div>

<div class="grid_12">
    <div kendo-grid k-data-source="dataSourceSkoring" k-selectable="'row'" options="optGridSkoringTindakan"
        k-ng-model="selectedData"></div>
</div>

<div kendo-window="popupTambah" k-title="'Tambah Data Tindakan Medis'" k-width="800" k-visible="false"
    k-on-open="win2visible= true" k-on-close="win2visible= false">
    <div class="panel panel-default container_12" style="padding: 0px 10px;">

        <md-card>
            <div class="grid_12">
                <div class="grid_12">
                    <div class="grid_6">
                        <label><strong>Departemen</strong></label>
                        <input kendo-combo-box k-filter="'contains'" k-ng-model="item.departemen"
                            k-data-text-field="'namaDepartemen'" k-data-value-field="'id'"
                            k-data-source="listDepartemen" k-on-change="getDataRuangan(item.departemen.id)"
                            ng-disabled="isEdit" />
                    </div>
                    <div class="grid_6">
                        <label><strong>Ruangan</strong></label>
                        <input kendo-combo-box k-filter="'contains'" k-ng-model="item.ruangan"
                            k-data-text-field="'namaRuangan'" k-data-value-field="'id'" k-data-source="listRuangan"
                            k-on-change="getProduk(item.ruangan.id)" ng-disabled="isEdit" />
                    </div>
                </div>
                <div class="grid_12" style="margin-left: 6px; width: 98.5%;">
                    <label><strong>Tindakan</strong></label>
                    <input kendo-combo-box k-filter="'contains'" k-ng-model="item.namaProduk"
                        k-data-text-field="'namaProduk'" k-data-value-field="'id'" k-data-source="listNamaProduk"
                        ng-disabled="isEdit" />
                </div>
                <div class="grid_12">
                    <div class="grid_9">
                        <label><strong>Rincian Tindakan</strong></label>
                        <input c-text-box type="input" filter="" class="k-textbox" ng-model="item.detailTindakan" />
                    </div>
                    <div class="grid_3">
                        <label><strong>Skor</strong></label>
                        <input c-text-box type="input" filter="'numeric'" class="k-textbox" ng-model="item.skor" />
                    </div>
                </div>
                <div class="grid_12">
                    <div class="grid_6">
                        <label><strong>Unit Kerja</strong></label>
                        <input kendo-combo-box k-filter="'contains'" k-ng-model="item.unitKerja"
                            k-data-text-field="'name'" k-data-value-field="'id'" k-data-source="listUnitKerjKSM"
                            k-on-change="getDataKelompokKerja(item.unitKerja.id)" />
                    </div>
                    <div class="grid_6">
                        <label><strong>Kelompok Kerja</strong></label>
                        <input kendo-combo-box k-filter="'contains'" k-ng-model="item.kelompokKerja"
                            k-data-text-field="'name'" k-data-value-field="'id'" k-data-source="listKelompokKerja" />
                    </div>
                </div>
                <div class="grid_12">
                    <div class="grid_6">
                        <label><strong>Tanggal Berlaku</strong></label>
                        <input style="width: 100%;" k-ng-model="item.tglBerlaku" kendo-date-picker
                            placeholer="dd-mm-yyyy" k-format="'dd-MM-yyyy'" />
                    </div>
                    <!-- <div class="grid_6" ng-hide="isVerifHidden"> -->
                    <div class="grid_6">
                        <!-- <input type="checkbox" id="eq1" class="k-checkbox" checked="checked"> -->
                        <md-checkbox ng-model="item.statusVerif" aria-label="verified" style="margin-top:24px"
                            class="green">
                            Verifikasi
                        </md-checkbox>
                    </div>
                </div>
            </div>
        </md-card>

        <div class="k-edit-buttons k-state-default" style="margin-top:10px">
            <div class="grid_8"></div>
            <div class="grid_2">
                <md-button class="md-raised md-warn medium-button" ng-click="closePopUp()">
                    <span style="margin-right: 5px;">Batal</span>
                    <i class="fa fa-close"></i>
                </md-button>
            </div>
            <div class="grid_2">
                <md-button class="md-raised md-primary medium-button" ng-click="saveData('save')">
                    <span style="margin-right: 5px;">Simpan</span>
                    <i class="fa fa-save"></i>
                </md-button>
            </div>
        </div>
    </div>
</div>
<div ng-include='"../app/module/Shared/TemplateLoading"'></div>