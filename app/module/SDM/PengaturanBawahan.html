<div>
    <div ng-show="dataVOloaded">
        <c-panel item="item" header="'Pengaturan Bawahan'" disabled>
            <div class="panel panel-default container_12">
                <div class="panel-body">
                    <div class="grid_4">
                        <label c-label item="item" c-label-text="Unit Kerja"></label>
                        <input style="width: 100%;" kendo-combo-box k-ng-model="item.unitKerja"
                            k-data-text-field="'name'" k-data-value-field="'id'" k-filter="'contains'"
                            k-auto-bind="false" k-data-source="listUnitKerja" />
                    </div>
                    <div class="grid_4">
                        <label c-label item="item" c-label-text="Nama Pegawai"></label>
                        <input c-text-box type="input" filter="'varchar'" class="k-textbox"
                            ng-model="item.namaLengkap" />
                    </div>
                    <div class="grid_1">
                        <label c-label c-label-text=""></label>
                        <em style="margin-top:6px;" ng-click='resetFilter()' id="iconButton" data-role="button"
                            class="k-button k-button-icon k-primary" role="button" aria-disabled="false"
                            tabindex="0"><span class="k-sprite k-icon k-i-cancel">Refresh</span></em>
                    </div>
                </div>
            </div>
            <div class="grid_12 containerBorderBox">
                <div id="grid" kendo-grid options="gridJabatanInternal" data-source="dataSourceJabatanInternal"></div>
            </div>
        </c-panel>
        <!-- <c-panel item="item" header="'Pengaturan Bawahan'" disabled>
            <div class="grid_12 containerBorderBox">
                <div id="grid" kendo-grid options="gridJabatanInternal" data-source="dataSourceJabatanInternal"></div>
            </div>
        </c-panel> -->
    </div>
    <div class="grid_12" style="float:left;" ng-hide="false">
        <div ng-show='true' class="grid_3" style="float:left;">
            <md-button class="md-raised md-primary" ng-show="true" is-back>
                <span style="margin-right: 5px;">Kembali</span>
                <i class="fa fa-arrow-left"></i>
            </md-button>
        </div>
    </div>
</div>
<div ng-include='"../app/module/Shared/TemplateLoading"'></div>

<!-- Popup Jabatan -->
<div kendo-window="popUpJabatan" k-title="'Pengaturan Atasan'" k-width="550" k-visible="false"
    k-on-open="win2visible = true" k-on-close="ji.idGridInternalJabatan = null">
    <div class="panel panel-default container_12" style="padding: 0px 10px;">
        <!-- Pegawai -->
        <div class="grid_4" style="margin: 6px 0 0 0;">
            <label c-label item="item" c-label-text="pegawai"></label>
        </div>
        <div class="grid_8">
            <input required style="width: 100%;" kendo-combo-box k-ng-model="ji.pegawai"
                k-data-text-field="'namaLengkap'" k-filter="'contains'" k-minLength="'3'" k-data-value-field="'id'"
                k-data-source="listPegawai" ng-disabled="true" />
        </div>
        <div class="clearfix"></div>
        <div class="grid_12">
            <!-- Jenis Jabatan -->
            <div class="grid_4">
                <label c-label item="item" c-label-text="JenisJabatan"></label>
            </div>
            <div class="clear"></div>
            <div class="grid_8">
                <input kendo-combo-box k-ng-model="ji.jenisJabatan" k-data-text-field="'jenisJabatan'"
                    k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="false" k-data-source="listJenisJabatan"
                    k-on-change="getDataJabatan(ji.jenisJabatan.id)" ng-disabled="true" />
            </div>
            <!-- Jabatan -->
            <div class="grid_4">
                <label c-label item="item" c-label-text="Jabatan"></label>
            </div>
            <div class="clear"></div>
            <div class="grid_8">
                <input kendo-combo-box id="idComboDataJabatan" k-ng-model="ji.jabatan" k-data-text-field="'namaJabatan'"
                    k-filter="'contains'" k-data-value-field="'id'" k-data-source="listJabatanByJenisJabatanInternal"
                    k-on-change="getJabatan(ji.jabatan)" ng-disabled="true" />
            </div>
        </div>
        <!-- Unit Kerja -->
        <div class="grid_12">
            <div class="grid_4">
                <label c-label item="item" c-label-text="Unit Kerja"></label>
            </div>
            <div class="clear"></div>
            <div class="grid_8">
                <input style="width: 100%;" kendo-combo-box k-ng-model="ji.unitKerjaPegawai" k-data-text-field="'name'"
                    k-data-value-field="'id'" k-filter="'contains'" k-data-source="ListUnitKerjaPop"
                    k-on-change="getDataSubUnitKerjaById(ji.unitKerjaPegawai.id, ji.unitKerjaPegawai)" />
            </div>
        </div>
        <!-- Sub unit -->
        <div class="grid_12">
            <div class="grid_4">
                <label c-label item="item" c-label-text="Sub Unit"></label>
            </div>
            <div class="clear"></div>
            <div class="grid_8">
                <input style="width: 100%;" id="idComboSubUnitKerja" kendo-combo-box k-ng-model="ji.subUnitKerjaPegawai"
                    k-data-text-field="'name'" k-data-value-field="'id'" k-filter="'contains'"
                    k-data-source="ListSubUnitKerjaById" />
            </div>
        </div>
        <!-- Atasan Langsung -->
        <div class="grid_4" style="margin: 6px 0 0 0;">
            <label c-label item="item" c-label-text="AtasanLangsung"></label>
        </div>
        <div class="grid_8">
            <input required style="width: 100%;" kendo-combo-box k-ng-model="ji.atasanLangsung"
                k-data-text-field="'namaLengkap'" k-filter="'contains'" k-minLength="'3'" k-data-value-field="'id'"
                k-data-source="listPegawai" ng-show="isNotDirut" />
            <input c-text-box type="input" filter="'varchar'" class="k-textbox" ng-model="ji.atasanLangsungDireksi"
                k-data-text-field="'namaLengkap'" ng-show="isDirut" />
        </div>
        <div class="clearfix"></div>
        <!-- Atasan Pejabat Penilai -->
        <div class="grid_4" style="margin: 6px 0 0 0;">
            <label c-label item="item" c-label-text="AtasanPejabatPenilai"></label>
        </div>
        <div class="grid_8">
            <input required style="width: 100%;" kendo-combo-box k-ng-model="ji.pejabatPenilai"
                k-data-text-field="'namaLengkap'" k-filter="'contains'" k-minLength="'3'" k-data-value-field="'id'"
                k-data-source="listPegawai" ng-show="isStaff" />
            <input c-text-box type="input" filter="'varchar'" class="k-textbox" ng-model="ji.pejabatPenilaiDireksi"
                k-data-text-field="'namaLengkap'" ng-show="isDireksi" />
        </div>
        <!-- Action Button -->
        <div class="grid_12">
            <div class="k-edit-buttons  k-state-default pull-right" style="margin-top:10px">
                <button class="k-button k-button-icontext k-primary k-grid-update" ng-click="simpanJabatanInternal()"
                    ng-show="enableBtnSimpanJabatanInternal"><span class="k-icon k-update"></span>Simpan</button>
                <button class="k-button  k-button-icontext" ng-click="batal()"><span
                        class="k-icon k-cancel"></span>Batal</button>
            </div>
        </div>
    </div>
</div>

<style>
    .k-grid .k-grid-header .k-header .k-link {
        height: auto;
    }

    .k-grid .k-grid-header .k-header {
        white-space: normal;
    }

    .k-grid .k-grid-header .k-header {
        text-align: center;
    }

    button:disabled {
        background: #B5B2B1;
    }
</style>