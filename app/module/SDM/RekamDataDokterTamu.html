<div>
    <div ng-show="dataVOloaded">
        <md-tabs class="md-primary" md-center-tabs md-dynamic-height md-selected="tabPegawai">
            <md-tab label="Identitas" md-on-select="onChangeTab(1)">
                <div class="grid_12 containerBorderBox">
                    <div class="grid_6">
                        <!-- Biodata Dokter Tamu -->
                        <fieldset class="borderBox">
                            <legend style="font-size:20px">
                                <strong>Biodata Dokter Tamu</strong>
                            </legend>
                            <!-- Nama Format Lama -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label><b>Nama (Format Lama)*</b></label>
                                </div>
                                <div class="grid_8">
                                    <input c-text-box type="input" placeholder="Nama" class="k-textbox"
                                        ng-model="item.namaLengkap" disabled />
                                </div>
                            </div>
                            <!-- Nama dan Gelar -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label><b>Nama dan Gelar</b></label>
                                </div>
                                <div class="grid_2">
                                    <input c-text-box type="input" placeholder="Gelar" filter="'varchar'"
                                        class="k-textbox" ng-model="item.gelarDepan" ng-disabled="isSimpan"
                                        ng-change="changedNamaLengkap()" />
                                </div>
                                <div class="grid_4">
                                    <input c-text-box type="input" placeholder="Nama" filter="'varchar'"
                                        class="k-textbox" ng-model="item.nama" ng-disabled="isSimpan"
                                        ng-change="changedNamaLengkap()" />
                                </div>
                                <div class="grid_2">
                                    <input c-text-box type="input" placeholder="Gelar" filter="'varchar'"
                                        class="k-textbox" ng-model="item.gelarBelakang" ng-disabled="isSimpan"
                                        ng-change="changedNamaLengkap()" />
                                </div>
                            </div>
                            <!-- No Identitas -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label><b>N.I.K</b></label>
                                </div>
                                <div class="grid_8">
                                    <input c-text-box type="input" placeholder="Nomor Identitas (SIM, KTP, Paspor)"
                                        filter="'varchar'" class="k-textbox" ng-model="item.noIdentitas"
                                        ng-disabled="isSimpan" />
                                </div>
                            </div>
                            <!-- Jenis kelamin -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label c-label item="item" c-label-text="JenisKelamin"></label>
                                </div>
                                <div class="grid_8">
                                    <input style="width: 100%;" kendo-combo-box k-ng-model="item.jenisKelamin"
                                        k-data-text-field="'jenisKelamin'" k-data-value-field="'id'"
                                        k-filter="'contains'" k-auto-bind="false" k-data-source="ListJenisKelamin"
                                        ng-disabled="isSimpan" />
                                </div>
                            </div>
                            <!-- Tempat tanggal lahir -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label c-label item="item" c-label-text="Tempat Tanggal Lahir"></label>
                                </div>
                                <div class="grid_4">
                                    <input c-text-box type="input" placeholder="Tempat Lahir" filter="'varchar'"
                                        class="k-textbox" ng-model="item.tempatLahir" ng-disabled="isSimpan" />
                                </div>
                                <div class="grid_4">
                                    <!-- <input kendo-date-picker k-ng-model="item.tglLahir" k-format="'dd-MM-yyyy'" style="width: 100%" ng-disabled="isSimpan"/> -->
                                    <input kendo-date-picker k-ng-model="item.tglLahir" k-format="'dd-MM-yyyy'"
                                        style="width: 100%" ng-disabled="isSimpan" />
                                </div>
                            </div>
                            <!-- Agama -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label c-label item="item" c-label-text="Agama"></label>
                                </div>
                                <div class="grid_8">
                                    <input style="width: 100%;" kendo-combo-box k-ng-model="item.agama"
                                        k-data-text-field="'agama'" k-data-value-field="'id'" k-filter="'contains'"
                                        k-data-source="ListAgama" ng-disabled="isSimpan" />
                                </div>
                            </div>
                            <!-- Kewarganegaraan -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label c-label item="item" c-label-text="Kewarganegaraan"></label>
                                </div>
                                <div class="grid_8">
                                    <input style="width: 100%;" kendo-combo-box k-ng-model="item.negara"
                                        k-data-text-field="'namaNegara'" k-data-value-field="'id'" k-filter="'contains'"
                                        k-data-source="listOfNegara" ng-disabled="isSimpan" />
                                </div>
                            </div>
                            <!-- Suku -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 6px 0 0 0;">
                                    <label c-label item="item" c-label-text="Suku"></label>
                                </div>
                                <div class="grid_8">
                                    <input style="width: 100%;" kendo-combo-box k-ng-model="item.suku"
                                        k-data-text-field="'suku'" k-data-value-field="'id'" k-filter="'contains'"
                                        k-auto-bind="false" k-data-source="ListSuku" ng-disabled="isSimpan" />
                                </div>
                            </div>
                            <!-- Status Pernikahan -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label c-label item="item" c-label-text="Status Pernikahan"></label>
                                </div>
                                <div class="grid_8">
                                    <input style="width: 100%;" kendo-combo-box k-ng-model="item.statusKawin"
                                        k-data-text-field="'statusPerkawinan'" k-data-value-field="'id'"
                                        k-filter="'contains'" k-auto-bind="false" k-data-source="ListStatusKawin"
                                        ng-disabled="isSimpan" />
                                </div>
                            </div>
                            <!-- Golongan Darah / Rhesus -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label><b>Golongan Darah / Rhesus</b></label>
                                </div>
                                <div class="grid_4">
                                    <input style="width: 100%;" kendo-combo-box k-ng-model="item.golonganDarah"
                                        k-data-text-field="'golonganDarah'" k-data-value-field="'id'"
                                        k-filter="'contains'" k-data-source="ListGolDarah" ng-disabled="isSimpan" />
                                </div>
                                <div class="grid_4">
                                    <input style="width: 100%;" kendo-combo-box k-ng-model="item.statusRhesus"
                                        k-data-text-field="'name'" k-data-value-field="'id'" k-filter="'contains'"
                                        k-data-source="listOfGolonganRhesus" ng-disabled="isSimpan" />
                                </div>
                            </div>
                        </fieldset>
                    </div>
                    <div class="grid_6">
                        <!-- Kontak Pegawai -->
                        <fieldset class="borderBox">
                            <legend style="font-size:20px">
                                <strong>Kontak Dokter Tamu</strong>
                            </legend>
                            <!-- Email -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label><b>Email</b></label>
                                </div>
                                <div class="grid_8">
                                    <input c-text-box type="input" placeholder="Email" filter="'varchar'"
                                        class="k-textbox" ng-model="item.email" ng-disabled="isSimpan" />
                                </div>
                            </div>
                            <!-- Email Lainnya -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label><b>Email Lainnya</b></label>
                                </div>
                                <div class="grid_8">
                                    <input c-text-box type="input" placeholder="Email Lainnya" filter="'varchar'"
                                        class="k-textbox" ng-model="item.emailAlternatif" ng-disabled="isSimpan" />
                                </div>
                            </div>
                            <!-- No Telp -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label><b>No. Telepon</b></label>
                                </div>
                                <div class="grid_8">
                                    <input c-text-box type="input" placeholder="Nomor Telepon" filter="'varchar'"
                                        class="k-textbox" ng-model="item.noTlp" ng-disabled="isSimpan" />
                                </div>
                            </div>
                            <!-- No Hp -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label><b>No. Handphone</b></label>
                                </div>
                                <div class="grid_8">
                                    <input c-text-box type="input" placeholder="Nomor Handphone" filter="'varchar'"
                                        class="k-textbox" ng-model="item.noHandphone" ng-disabled="isSimpan" />
                                </div>
                            </div>
                            <!-- Alamat -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label c-label item="item" c-label-text="Alamat"></label>
                                </div>
                                <div class="grid_8">
                                    <textarea ng-model="item.alamat" placeholder="Alamat"
                                        style="width: 99%; height: 80px;" ng-disabled="isSimpan"></textarea>
                                </div>
                            </div>
                            <!-- Kode Pos -->
                            <div class="grid_12">
                                <div class="grid_4" style="margin: 10px 0 0 0;">
                                    <label c-label item="item" c-label-text="KodePos"></label>
                                </div>
                                <div class="grid_8">
                                    <input c-text-box type="input" placeholder="Kode Pos" filter="'varchar'"
                                        class="k-textbox" ng-model="item.kodePos" ng-disabled="isSimpan" />
                                </div>
                            </div>
                        </fieldset>
                        <!-- PopUp -->
                        <div kendo-window="popUpJabatan" k-title="'Dokter Penanggung Jawab'" k-width="550"
                            k-visible="false" k-on-open="win2visible = true"
                            k-on-close="ji.idGridInternalJabatan = null">
                            <div class="panel panel-default container_12" style="padding: 0px 10px;">
                                <!-- Atasan Langsung -->
                                <div class="grid_12">
                                    <div class="grid_4" style="margin: 6px 0 0 0;">
                                        <label c-label item="item" c-label-text="DokterPenanggungJawab"></label>
                                    </div>
                                    <div class="grid_8">
                                        <input required style="width: 100%;" kendo-combo-box
                                            k-ng-model="ji.atasanLangsung" k-data-text-field="'namaLengkap'"
                                            k-filter="'contains'" k-minLength="'3'" k-data-value-field="'id'"
                                            k-data-source="listPegawai" ng-disabled="isSimpan" ng-show="isNotDirut" />
                                        <input c-text-box type="input" filter="'varchar'" class="k-textbox"
                                            ng-model="ji.atasanLangsungDireksi" k-data-text-field="'namaLengkap'"
                                            ng-disabled="isSimpan" ng-show="isDirut" />
                                    </div>
                                </div>
                                <!-- Unit Kerja -->
                                <div class="grid_12">
                                    <div class="grid_4" style="margin: 6px 0 0 0;">
                                        <label c-label item="item" c-label-text="Unit Kerja"></label>
                                    </div>
                                    <div class="clear"></div>
                                    <div class="grid_8">
                                        <input style="width: 100%;" kendo-combo-box k-ng-model="ji.unitKerjaPegawai"
                                            k-data-text-field="'name'" k-data-value-field="'id'" k-filter="'contains'"
                                            k-data-source="ListUnitKerjaPop"
                                            k-on-change="getDataSubUnitKerjaById(ji.unitKerjaPegawai.id, ji.unitKerjaPegawai)" />
                                    </div>
                                </div>
                                <!-- Sub unit -->
                                <div class="grid_12">
                                    <div class="grid_4" style="margin: 6px 0 0 0;">
                                        <label c-label item="item" c-label-text="Sub Unit"></label>
                                    </div>
                                    <div class="clear"></div>
                                    <div class="grid_8">
                                        <input style="width: 100%;" id="idComboSubUnitKerja" kendo-combo-box
                                            k-ng-model="ji.subUnitKerjaPegawai" k-data-text-field="'name'"
                                            k-data-value-field="'id'" k-filter="'contains'"
                                            k-data-source="ListSubUnitKerjaById" />
                                    </div>
                                </div>
                                <div class="grid_12">
                                    <div class="k-edit-buttons  k-state-default pull-right" style="margin-top:10px">
                                        <button class="k-button k-button-icontext k-primary k-grid-update"
                                            ng-click="simpanJabatanInternal()"
                                            ng-show="enableBtnSimpanJabatanInternal"><span
                                                class="k-icon k-update"></span>Simpan</button>
                                        <button class="k-button  k-button-icontext" ng-click="batal()"><span
                                                class="k-icon k-cancel"></span>Batal</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div ng-include='"../app/module/Shared/TemplateLoading"'></div>
                </div>
            </md-tab>
            <md-tab label="Kepegawaian" md-on-select="onChangeTab(6)">
                <div class="grid_12 containerBorderBox">
                    <div class="grid_6">
                        <!-- NIP -->
                        <div class="grid_12">
                            <div class="grid_4" style="margin: 10px 0 0 0;">
                                <label><b>NIP & Nama</b></label>
                            </div>
                            <div class="grid_4">
                                <input c-text-box type="input" placeholder="NIP" filter="'varchar'" class="k-textbox"
                                    ng-model="item.nipPns" ng-disabled="isSimpan" />
                            </div>
                            <div class="grid_4">
                                <input c-text-box type="input" placeholder="Nama" filter="'varchar'" class="k-textbox"
                                    ng-model="item.nama" ng-disabled="true" />
                            </div>
                        </div>
                        <!-- Jenis Kategori Pegawai -->
                        <div class="grid_12">
                            <div class="grid_4" style="margin: 10px 0 0 0;">
                                <label c-label item="item" c-label-text="KategoriPegawai"></label>
                            </div>
                            <div class="grid_8">
                                <input style="width: 100%;" kendo-combo-box k-ng-model="item.kategoryPegawai"
                                    k-data-text-field="'kategoryPegawai'" k-data-value-field="'id'"
                                    k-filter="'contains'" k-auto-bind="false" k-data-source="ListKategoriPegawai"
                                    ng-disabled="isSimpan" />
                            </div>
                        </div>
                        <!-- Kedudukan Pegawai -->
                        <div class="grid_4" style="margin: 10px 0 0 0;">
                            <label c-label item="item" c-label-text="KedudukanPegawai"></label>
                        </div>
                        <div class="grid_8">
                            <input style="width: 100%;" kendo-combo-box k-ng-model="item.kedudukan"
                                k-data-text-field="'name'" k-data-value-field="'id'" k-filter="'contains'"
                                k-auto-bind="false" k-data-source="ListKedudukanPegawai" ng-disabled="isSimpan" />
                        </div>
                        <!-- Jenis Pegawai  -->
                        <div class="grid_4" style="margin: 10px 0 0 0;">
                            <label c-label item="item" c-label-text="JenisPegawai"></label>
                        </div>
                        <div class="grid_8">
                            <input style="width: 100%;" kendo-combo-box k-ng-model="item.jenisPegawai"
                                k-data-text-field="'jenisPegawai'" k-data-value-field="'id'" k-filter="'contains'"
                                k-auto-bind="false" ng-disabled="isSimpan" k-data-source="ListJenisPegawai" />
                        </div>
                    </div>
                    <div class="grid_6">
                        <!-- Periode -->
                        <div class="grid_12">
                            <div class="grid_4" style="margin: 10px 0 0 0;">
                                <label c-label item="item" c-label-text="PeriodeBekerja"></label>
                            </div>
                            <div class="grid_8" style="margin: 0 0 0 -10px;">
                                <div class="grid_4">
                                    <input kendo-date-picker k-ng-model="item.tglMasuk" k-format="'dd-MM-yyyy'"
                                        style="width: 100%" ng-disabled="isSimpan" />
                                </div>
                                <div class="grid_1" style="margin: 10px 0 0 0;">
                                    <label c-label item="item">s.d.</label>
                                </div>
                                <div class="grid_4">
                                    <input kendo-date-picker k-ng-model="item.tglkeluar" k-format="'dd-MM-yyyy'"
                                        style="width: 100%" ng-disabled="isSimpan" />
                                </div>
                            </div>
                        </div>
                        <!-- Nomor SIP -->
                        <div class="grid_12">
                            <div class="grid_4" style="margin: 10px 0 0 0;">
                                <input type="checkbox" class="k-checkbox" name="nomorSip" id="nomorSip"
                                    ng-checked="!disableSip" ng-click="toogleClick($event)">
                                <label c-label item="item" class="k-checkbox-label" for="nomorSip">No. SIP</label>
                            </div>
                            <div class="grid_8" style="margin: 0 0 0 -10px;">
                                <div class="grid_12">
                                    <input c-text-box type="input" filter="'varchar'" class="k-textbox"
                                        ng-model="item.noSip" ng-disabled="disableSip" />
                                </div>
                                <div class="grid_4">
                                    <label c-label item="item">Terbit</label>
                                    <input kendo-date-picker k-ng-model="item.tglTerbitSip" k-format="'dd-MM-yyyy'"
                                        style="width: 100%" ng-disabled="disableSip" />
                                </div>
                                <div class="grid_4">
                                    <label c-label item="item">Berakhir</label>
                                    <input kendo-date-picker k-ng-model="item.tglBerakhirSip" k-format="'dd-MM-yyyy'"
                                        style="width: 100%" ng-disabled="disableSip" />
                                </div>
                            </div>
                        </div>
                        <!-- Nomor Str -->
                        <div class="grid_12">
                            <div class="grid_4" style="margin: 10px 0 0 0;">
                                <input type="checkbox" class="k-checkbox" name="nomorStr" id="nomorStr"
                                    ng-checked="!disableStr" ng-click="toogleClick($event)">
                                <label c-label item="item" class="k-checkbox-label" for="nomorStr">No. Str</label>
                            </div>
                            <div class="grid_8" style="margin: 0 0 0 -10px;">
                                <div class="grid_12">
                                    <input c-text-box type="input" filter="'varchar'" class="k-textbox"
                                        ng-model="item.noStr" style="margin-top:11px" ng-disabled="disableStr" />
                                </div>
                                <div class="grid_4">
                                    <label c-label item="item">Terbit</label>
                                    <input kendo-date-picker k-ng-model="item.tglTerbitStr" k-format="'dd-MM-yyyy'"
                                        style="width: 100%" ng-disabled="disableStr" />
                                </div>
                                <div class="grid_4">
                                    <label c-label item="item">Berakhir</label>
                                    <input kendo-date-picker k-ng-model="item.tglBerakhirStr" k-format="'dd-MM-yyyy'"
                                        style="width: 100%" ng-disabled="disableStr" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <fieldset class="borderBox containerBorderBox" ng-show="isAtasan">
                        <legend>
                            <strong>
                                <span style="font-size: 20px;">Dokter Yang Digantikan</span>
                            </strong>
                        </legend>
                        <div id="grid" kendo-grid options="gridJabatanInternal" data-source="dataSourceJabatanInternal">
                        </div>
                    </fieldset>
                </div>
            </md-tab>
            <md-tab label="Riwayat" md-on-select="onChangeTab(5)">
                <div class="grid_12 containerBorderBox">
                    <div class="grid_12">
                        <div class="grid_2">
                            <div class="grid_12">
                                <label c-label item="item" c-label-text="Nip"></label>
                            </div>
                            <div class="clear"></div>
                            <div class="grid_12">
                                <input c-text-box type="input" filter="'varchar'" readonly="true" class="k-textbox"
                                    ng-model="item.nipPns" ng-disabled="true" />
                            </div>
                        </div>
                        <div class="grid_4">
                            <div class="grid_12">
                                <label c-label item="item" c-label-text="Nama"></label>
                            </div>
                            <div class="clear"></div>
                            <div class="grid_12">
                                <input c-text-box type="input" filter="'varchar'" readonly="true" class="k-textbox"
                                    ng-model="item.nama" ng-disabled="true" />
                            </div>
                        </div>
                    </div>
                    <md-tabs class="md-primary" md-dynamic-height md-selected="tabHistoryPegawai">
                        <md-tab label="Perubahan Data" md-on-select="onChangeTab(8)">
                            <div class="grid_12">
                                <div kendo-grid id="gridHistoriPegawai" k-data-source="dataHistoriPegawai"
                                    options="optHistoriPegawai"></div>
                            </div>
                        </md-tab>
                    </md-tabs>
                </div>
            </md-tab>
        </md-tabs>
        <!-- button -->
        <div class="grid_12">
            <div class="grid_8" style="float:left" ng-show="isRiwayat">
                <div class="grid_2" style="margin-top: 25px">
                    <button class="c-button" ng-show="!isLoading" item="item" ng-click="kembali()">
                        <span class="title">Kembali</span></button>
                </div>
                <div class="grid_2 " style="margin-top: 25px ">
                    <button class="c-button" ng-show="!isLoading" item="item" ng-disabled="isSimpan"
                        ng-click="saveDataIndetitasPegawai()">
                        <span class="title">Simpan</span>
                    </button>
                </div>
                <div class="grid_2 " style="margin-top: 25px" ng-show="isSimpan">
                    <button class="c-button" ng-show="!isLoading" item="item" ng-click="ubahDataPegawai()"
                        ng-disabled="isEdit">
                        <span class="title">Ubah</span>
                    </button>
                </div>
                <div class="grid_2" style="margin-top: 25px" ng-show="isEdit">
                    <button class="c-button" ng-show="!isLoading" item="item" ng-click="batalUbahDataPegawai()">
                        <span class="title">Batal</span>
                    </button>
                </div>
            </div>
            <div class="grid_2" ng-show="isRiwayat"></div>
            <div class="grid_2" ng-show="isRiwayat">
                <fieldset class="borderBox">
                    <legend>
                        <strong>History</strong>
                    </legend>
                    Terakhir Edit: <a style="font-weight:700;cursor: pointer;"
                        ng-click="goToLogHistory()">{{lastEditDate}}</a>
                    <br>
                    Oleh: <strong>{{lastEditBy}}</strong>
                </fieldset>
            </div>
        </div>
    </div>
</div>

<div kendo-window="confirmDialog" k-title="'Hapus Data Dokter Tamu'" k-width="400" k-visible="false">
    <p class="text-center">Apakah anda yakin ingin menghapus data ini?</p>
    <label c-label item="item" c-label-text="namaPegawai"></label>
    <input class="k-textbox" ng-model="item.nama" style="width: 100%;" disabled />
    </br>
    <label c-label item="item" c-label-text="nip"></label>
    <input class="k-textbox" ng-model="item.nipPns" style="width: 100%;" disabled />
    </br>
    <br />
    <div class="dialog_buttons pull-right" style="margin-top:5%">
        <input type="button" class="confirm_no k-button" value="Tidak" style="width: 70px"
            ng-click="confirmDialog.close()" />
        &nbsp;
        <input type="button" class="confirm_yes k-button" value="Ya" style="width: 70px" ng-click="lanjutHapus()" />
    </div>
</div>

<style>
    md-tabs.md-primary>md-tabs-wrapper {
        background-color: #10C4B2;
    }

    .confirm_no {
        background-color: red;
    }

    .confirm_yes {
        background-color: green;
    }

    p {
        font-size: 16px;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .style-center {
        display: inline-block;
        text-align: center;
        width: 100%;
    }

    .style-right {
        display: inline-block;
        text-align: right;
        width: 100%;
    }

    .style-left {
        display: inline-block;
        text-align: left;
        width: 100%;
    }

    .k-grid .k-grid-header .k-header .k-link {
        height: auto;
    }

    .k-grid .k-grid-header .k-header {
        white-space: normal;
    }

    .k-grid .k-grid-header .k-header {
        text-align: center;
    }

    button:disabled {
        background: #B5B2B1;
    }

    h3.small-font {
        font-size: 13px;
    }

    div#grid td>span.ng-binding {
        font-size: 12px;
    }
</style>